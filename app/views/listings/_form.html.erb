<%= form_with(model: listing, local: true) do |f| %>
  <div>
    Listing Name (min. 10 chars)<br/>
    <%=f.text_field :name, :size => 75%>
  </div> <br/>
  
  <div>
    Property Type <br/>
    <%=f.select :property_type, ["House", "Entire Floor", "Condominium", "Villa", "Townhouse", "Castle", "Treehouse", "Igloo", "Yurt", "Cave", "Chalet", "Hut", "Tent", "Other"]%>
  </div>  <br/>

  <div>
    Street Address <br/>
    <%=f.text_field :address, :size => 40%>
  </div>  <br/>

  <div>
    City <br/>
    <%=f.text_field :city%>
  </div>  <br/>

  <div>
    Country <br/>
    <%=f.select :country, ApplicationRecord::COUNTRIES%>
  </div>  <br/>

  <div>
    Price <br/>
    <%=f.text_field :price, :size => 5%> <span class="listing-form-unhighlighted">USD per night</span>
  </div>  <br/>

  <div>
    Capacity <br/>
    <%=f.text_field :capacity, :size => 3%> <span class="listing-form-unhighlighted">pax</span>
  </div>  <br/>

  <div>
    Description <br/>
    <%=f.text_area :description, :rows => 4, :cols => 75%>
  </div>  <br/>

  <div>
    Upload photos (max 8 per listing)<br/>
    <%=f.file_field :photos, multiple: true %>
  </div> <br/>

  <% if (listing.listing_photos.length != 0)%>
    <div>
      Select photos for deletion <br/> <br />

      <%listing.listing_photos.each do |listing_photo| %>
        <%= image_tag listing_photo.photo.thumb.url, class: "listing-photo-deletion-icon" %>
        <%= f.check_box "delete_images[#{listing_photo.id}]", {:style => "position: relative; right: 1em; bottom: 4.5em"}, true, false %>
      <% end %>

    </div>
  <% end %>

  <hr />
  <%= link_to "Back to Profile", user_path(current_user.id) %>
  <%=f.submit "Submit!", :style => "float:right"%>

<% end %>
